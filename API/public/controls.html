<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Điều khiển - Nhà kính thông minh</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/controls.css" />
  </head>
  <body>
    <!-- Sidebar sẽ được load động từ sidebar.html -->
    <div id="sidebar-container"></div>
    <!-- Main Content -->
    <div class="main-content">
      <div class="header">
        <h2>Điều khiển</h2>
        <div class="date-time">Thursday, May 8, 2025 | 15:48:40</div>
      </div>

      <!-- Mode Selection -->
      <div class="card mode-selection">
        <div class="card-header">
          <div class="card-title">Chế độ hoạt động</div>
        </div>
        <div class="mode-options">
          <div class="mode-option active" id="auto-mode">
            <i class="fas fa-robot"></i>
            <span>Tự động</span>
            <p>
              Hệ thống tự động điều khiển tất cả các thông số dựa trên cài đặt
              tối ưu
            </p>
          </div>
          <div class="mode-option" id="manual-mode">
            <i class="fas fa-user-cog"></i>
            <span>Thủ công</span>
            <p>Điều khiển thủ công toàn bộ hệ thống và thông số</p>
          </div>
          <div class="mode-option">
            <i class="fas fa-calendar-check"></i>
            <span>Lập lịch</span>
            <p>Chạy theo lịch định sẵn cho từng hệ thống</p>
          </div>
        </div>
      </div>

      <!-- Control Panels -->
      <div class="control-panels">
        <!-- Light Control -->
        <div class="card control-panel">
          <div class="card-header">
            <div class="card-title">
              <i class="fas fa-lightbulb"></i>
              Đèn
            </div>
            <div class="control-status active">
              <span>Đang hoạt động</span>
            </div>
          </div>
          <div class="control-items">
            <div class="control-item">
              <div class="control-info">
                <div class="control-name">Đèn</div>
              </div>
              <div class="control-actions">
                <span id="lb_trthaiden">Chưa xác định</span>
              </div>
            </div>
            <button id="btn_batden">Bật đèn</button>
            <button id="btn_tatden">Tắt đèn</button>
          </div>
        </div>
        <!-- Roof Control -->
        <div class="card control-panel">
          <div class="card-header">
            <div class="card-title">
              <i class="fas fa-warehouse"></i>
              Mái che
            </div>
            <div class="control-status active">
              <span id="">Đang hoạt động</span>
            </div>
          </div>
          <div class="control-items">
            <div class="control-item">
              <div class="control-info">
                <div class="control-name">Mái che</div>
              </div>
              <div class="control-actions">
                <span id="lb_trthaimaiche">Chưa xác định</span>
              </div>
            </div>
            <button id="btn_momaiche">Mở mái che</button>
            <button id="btn_dongmaiche">Đóng mái che</button>
          </div>
        </div>
      </div>
      <!-- Fan Control -->

      <!-- Control Panels -->
      <div class="card control-panel" id="fan-control">
        <div class="card-header">
          <div class="card-title">
            <i class="fas fa-fan"></i>
            Quạt thông gió
          </div>
          <div class="control-status" id="fan-status">
            <span>Đang hoạt động</span>
          </div>
        </div>
        <div class="control-items">
          <div class="control-item">
            <div class="control-info">
              <div class="control-name">Quạt</div>
              <div class="control-value" id="fan-value">Tốc độ: 65%</div>
            </div>
            <div class="control-actions">
              <div class="toggle-switch active" id="fan-toggle">
                <div class="toggle-slider"></div>
              </div>
              <div class="control-slider">
                <input
                  type="range"
                  min="0"
                  max="100"
                  value="65"
                  id="fan-slider"
                />
              </div>
            </div>
          </div>
          <div class="control-updated" id="fan-updated">Vừa cập nhật</div>
        </div>
      </div>

      <div class="card control-panel" id="mist-control">
        <div class="card-header">
          <div class="card-title">
            <i class="fas fa-tint"></i>
            Máy phun sương
          </div>
          <div class="control-status" id="mist-status">
            <span>Đang hoạt động</span>
          </div>
        </div>
        <div class="control-items">
          <div class="control-item">
            <div class="control-info">
              <div class="control-name">Máy phun sương</div>
              <div class="control-value" id="mist-value">Cường độ: 70%</div>
            </div>
            <div class="control-actions">
              <div class="toggle-switch active" id="mist-toggle">
                <div class="toggle-slider"></div>
              </div>
              <div class="control-slider">
                <input
                  type="range"
                  min="0"
                  max="100"
                  value="70"
                  id="mist-slider"
                />
              </div>
            </div>
          </div>
          <div class="control-updated" id="mist-updated">Vừa cập nhật</div>
        </div>
      </div>

      <div class="card control-panel" id="heater-control">
        <div class="card-header">
          <div class="card-title">
            <i class="fas fa-fire"></i>
            Máy sưởi
          </div>
          <div class="control-status" id="heater-status">
            <span>Đang hoạt động</span>
          </div>
        </div>
        <div class="control-items">
          <div class="control-item">
            <div class="control-info">
              <div class="control-name">Máy sưởi</div>
              <div class="control-value" id="heater-value">Nhiệt độ: 25°C</div>
            </div>
            <div class="control-actions">
              <div class="toggle-switch active" id="heater-toggle">
                <div class="toggle-slider"></div>
              </div>
              <div class="control-slider">
                <input
                  type="range"
                  min="0"
                  max="100"
                  value="25"
                  id="heater-slider"
                />
              </div>
            </div>
          </div>
          <div class="control-updated" id="heater-updated">Vừa cập nhật</div>
        </div>
      </div>

      <!-- Water Pump Control -->
      <div class="card control-panel">
        <div class="card-header">
          <div class="card-title">
            <i class="fas fa-faucet"></i>
            Bơm nước
          </div>
          <div class="control-status inactive">
            <span>Không hoạt động</span>
          </div>
        </div>
        <div class="control-items">
          <div class="control-item">
            <div class="control-info">
              <div class="control-name">Bơm nước</div>
              <div class="control-value">Tắt</div>
            </div>
            <div class="control-actions">
              <div class="toggle-switch">
                <div class="toggle-slider"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="card">
        <div class="card-header">
          <div class="card-title">Hành động nhanh</div>
        </div>
        <div class="quick-actions">
          <button class="quick-action-button">
            <i class="fas fa-power-off"></i>
            <span>Tắt khẩn cấp</span>
          </button>
          <button class="quick-action-button">
            <i class="fas fa-sync-alt"></i>
            <span>Khởi động lại hệ thống</span>
          </button>
          <button class="quick-action-button">
            <i class="fas fa-tint"></i>
            <span>Bắt đầu tưới tiêu</span>
          </button>
          <button class="quick-action-button">
            <i class="fas fa-fan"></i>
            <span>Tăng thông gió</span>
          </button>
          <button class="quick-action-button">
            <i class="fas fa-sun"></i>
            <span>Ghi đè chu kỳ chiếu sáng</span>
          </button>
        </div>
      </div>
    </div>
    <script src="./js/sidebar.js"></script>
    <script src="./js/soilsensor_control.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js"
      type="text/javascript"
    ></script>
    <script src="./js/light_control.js"></script>
    <script src="./js/control.js"></script>
  </body>
</html>
